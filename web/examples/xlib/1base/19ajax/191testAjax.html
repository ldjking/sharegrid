<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>测试AJAX1——普通</title>
</head>

<body>
<div>发送方式:<select id="postFlag"><option value="1" selected="selected">post</option><option value="0">get</option></select></div>
<button  onclick="init()">执行</button>
<div id="container"></div>
<script type="text/javascript" src="../../../../src/1base/11basis.js"></script>
<script type="text/javascript" src="../../../../src/1base/12extend.js"></script>
<script type="text/javascript" src="../../../../src/1base/13core.js"></script>
<script type="text/javascript" src="../../../../src/1base/17ajax.js"></script>
<script type="text/javascript">
	window.onload=init();
	function init(){
		var flag=document.getElementById("postFlag").value>0;
		var result=$$("personGets",{name:"中文刘珺啊"},flag);
		testResult(result);
	}
	
	function testResult(result){
		var container=document.getElementById("container");
		container.innerHTML="";
		container.innerHTML+="方法名："+result.method+"<br/>";
		container.innerHTML+="方法参数："+jsonStr(result.param)+"<br/>";
		container.innerHTML+="执行结果："+result.flag+"<br/>";
		container.innerHTML+="消耗时间："+result.cost+"<br/>";

		if(result.flag)
			container.innerHTML+="返回数据条数："+result.data.length+"<br/>";
		else{
			container.innerHTML+="错误代码："+result.errorCode+"<br/>";
			container.innerHTML+="错误描述："+result.errorText+"<br/>";
		}
	}
</script>
</body>
</html>
