<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>单独grid全表编辑展示</title>
<link rel="stylesheet" type="text/css" href="../../release/css/all.css"/>
</head>
<body>
<div id="c1" style="position:absolute; z-index:30; background-color:#FFFFFF"></div>
<script type="text/javascript" src="../../release/base.js"></script> 
<script type="text/javascript" src="../../release/ui.js"></script> 
<script type="text/javascript" src="../../release/grid.js"></script> 
<script type="text/javascript" src="../../release/lovdef.js"></script> 
<script type="text/javascript">
	window.onload=init;
	var targetGrid;
	function init(){/*需要有一些自定义动画效果*/	
	var grid=$("#c1");
	uiLayout({dom:grid,container:document.body,dx:0,dy:0,xdoms:[]});	
	var cfg={dom:grid,multiMode:0,toolbar:1,filterMode:0,data_method:"syslogGets",
	rmMethod:'personRm',addMethod:"personAdd",updateMethod:"personUpdate",pageFlag:true,pageSize:6};
	var columns=[	
		{text:"执行时间",attr:"c8_starttime",align:"center",width:100,type:"str",asc:1},
		{text:"结果",attr:"c8_flag",align:"center",width:60,type:"str",asc:1},
		{text:"方法",attr:"c8_method",align:"center",frozen:0,width:80,type:"str",asc:1},
		{text:"调用人",attr:"c8_person",attr2:"c0_sex",align:"center",width:60,type:"str",notEdit:1,lov:"sex",asc:1},
		{text:"消耗时间",attr:"c8_cost",align:"center",type:"str",width:80,notEdit:1,lov:"date",asc:1},
		{text:"SQL脚本",attr:"c8_sqls",align:"left",width:360,type:"str",asc:1},
		{text:"输出信息",attr:"c8_msg",align:"center",width:160,type:"str",notEdit:0,asc:1},
		{text:"参数",attr:"c8_param",align:"center",width:160,type:"str",asc:1},
		{text:"主键",attr:"c8_id",align:"center",width:80,frozen:0,type:"num",notEdit:0,asc:1},

	];
	var cmds=[/*grid 默认有10个左右按钮*/
	{cmd:"cmdLock",		fn:e_cmdAddItem_handler,	check:"personCheck"},
	{cmd:"cmdAddItem",	fn:e_cmdAddItem_handler},
	{cmd:"cmdRmItem",	fn:e_cmdAddItem_handler},
	{cmd:"cmdCommit",	fn:e_cmdAddItem_handler},
	{cmd:"cmdFilter",	fn:e_cmdAddItem_handler},
	{cmd:"cmdRefresh",	fn:e_cmdAddItem_handler}					
	]
	genGrid(cfg,columns,cmds,[]);	
	}
	function e_cmdPre_handler(evt){
	//;////out("上一条数据");
	}
	function e_cmdAddItem_handler(evt){
	//msg("用户自定义事件");
	}
</script>
</body>
</html>
